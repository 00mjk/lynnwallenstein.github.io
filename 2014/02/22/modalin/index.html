<!doctype html><html class=no-js lang=""><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=content-type content="text/html; charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Pure CSS Dynamic Sized Centered Modals &middot; lynnwallenstein.github.io</title><link rel=stylesheet href=/css/main.min.e4a25c28.css><script type=text/javascript src=//use.typekit.net/sck7umt.js></script><script type=text/javascript>try{Typekit.load();}catch(e){}</script><link rel=apple-touch-icon-precomposed sizes=144x144 href=img/touch/apple-touch-icon-precomposed.png><link rel="shortcut icon" href=favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/atom.xml></head><body class="preload christmas"><header id=page-header role=banner><a id=title href="/"><img src=/img/fucks/fuck-christmas.svg alt="Happy christmas" class=holiday-fuck><h1>Lynn.io</h1></a><ul class=social-links><li><a class="ss-icon ss-social-circle" href=http://www.github.com/lynnwallenstein target=github>GitHubOctocat</a></li><li><a class="ss-icon ss-social-circle" href=http://www.twitter.com/lynnwallenstein target=twitter>Twitter</a></li><li><a class="ss-icon ss-social-circle" href=http://www.dribbble.com/lynnwallenstein target=dribbble>Dribbble</a></li></ul></header><nav id=page-navigation><ol><li class=""><a href=/about/index.html>About</a></li><li class=""><a href="/">Posts</a></li></ol></nav><main id=page-main role=main><article class=post><header class=post-header><h1>Pure CSS Dynamic Sized Centered Modals</h1></header><p>I recently came across this article <a href="http://zerosixthree.se/vertical-align-anything-with-just-3-lines-of-css/">&ldquo;Vertical align anything with just 3 lines of CSS&rdquo;</a>, describing a technique for vertical alignment using the CSS property <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/transform><code>transform</code></a> (<a href="http://caniuse.com/#feat=transforms2d">caniuse</a>):</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nc>.element</span> <span class=p>{</span>
  <span class=k>position</span><span class=o>:</span> <span class=k>relative</span><span class=p>;</span>
  <span class=k>top</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
  <span class=n>transform</span><span class=o>:</span> <span class=n>translateY</span><span class=p>(</span><span class=m>-50%</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>It was sort of an &ldquo;Aha!&rdquo; moment as I have never really thought about using transform for alignment.</p><p>The next day I was working on a project and needed to create a simple modal for an app to display some help content. Modal positioning has always been a thorn in my side as it seemed every method I have ever used had undesired draw backs.</p><h3>Fixed Size / Absolute Positioned for Centering</h3><p>I could used fixed size modals absolute positioning:</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nc>.modal</span> <span class=p>{</span>
  <span class=k>height</span><span class=o>:</span> <span class=m>800px</span><span class=p>;</span>
  <span class=k>margin-top</span><span class=o>:</span> <span class=m>-450px</span><span class=p>;</span>
  <span class=k>margin-left</span><span class=o>:</span> <span class=m>-450px</span><span class=p>;</span>
  <span class=k>position</span><span class=o>:</span> <span class=k>absolute</span><span class=p>;</span>
    <span class=k>top</span><span class=o>:</span> <span class=m>50%</span>
    <span class=k>left</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
  <span class=k>width</span><span class=o>:</span> <span class=m>800px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>But if my content was small I was stuck with tons of white space and I would have to write media queries for resizing things on small resolutions.</p><p>Not ideal.</p><h3>Dynamically Sized / Fixed Position from Top</h3><p>I would create a dynamically sized modal and then just ensure there were a certain amount of spacing around the modal:</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nc>.modal</span> <span class=p>{</span>
  <span class=k>height</span><span class=o>:</span> <span class=m>80%</span><span class=p>;</span>
  <span class=k>margin</span><span class=o>:</span> <span class=m>30px</span><span class=p>;</span>
  <span class=k>position</span><span class=o>:</span> <span class=k>absolute</span><span class=p>;</span>
    <span class=k>top</span><span class=o>:</span> <span class=m>0</span><span class=p>;</span>
    <span class=k>left</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
  <span class=k>width</span><span class=o>:</span> <span class=m>80%</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>But again, tons of potential white space and also not centered.</p><p>Again, not ideal.</p><h3>The JavaScript Solution</h3><p>I could use JavaScript to determine the size of my modal when rendered and then position dynamically. While this would accomplish my goal of being centred and only as large as my content&hellip; 2004 called and wants their solution back. <img class=emoji title=:trollface: alt=:trollface: src=/img/emoji/trollface.png height=20 width=20 align="absmiddle"></p><p>I don&rsquo;t like using JS for doing things that CSS should&hellip; plus now I would have to deal with testing JS on mobile and other horribly boring and tedious things.</p><h3>The Solution I Used</h3><p>So armed with my new enlightened thought process on using transform for vertical positioning and my love of <img class=emoji title=:heart: alt=:heart: src=/img/emoji/unicode/2764.png height=20 width=20 align="absmiddle"> <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/calc>calc</a> <img class=emoji title=:heart: alt=:heart: src=/img/emoji/unicode/2764.png height=20 width=20 align="absmiddle"> (<a href="http://caniuse.com/#feat=calc">caniuse</a>), I set off to create a modal with these three goals:</p><ul><li>Modal should be centered to the page</li><li>Modal should only be as big as its content (but not larger then the viewport)</li><li>ONLY use CSS</li></ul><p>So, first the positioning:</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nc>.modal</span> <span class=p>{</span>
  <span class=k>position</span><span class=o>:</span> <span class=k>fixed</span><span class=p>;</span>
    <span class=k>top</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
    <span class=k>left</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
  <span class=n>transform</span><span class=o>:</span> <span class=n>translate</span><span class=p>(</span><span class=m>-50%</span><span class=o>,</span> <span class=m>-50%</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>Check. Now our modal will position to the center of the page and then dynamically &lsquo;negative margin&rsquo; the top and left &frac12; the size of the rendered window. This means no matter how large the window it, it will be centered.</p><p>Second we get for free. Since we didn&rsquo;t give the modal a height or width it will <img class=emoji title=:sparkles: alt=:sparkles: src=/img/emoji/unicode/2728.png height=20 width=20 align="absmiddle"> automagically <img class=emoji title=:sparkles: alt=:sparkles: src=/img/emoji/unicode/2728.png height=20 width=20 align="absmiddle"> be sized by the browser. We do however want to make sure that that even if the content is huge it doesn&rsquo;t scroll off the screen. so we we add in a little <code>max-height</code> action. Using calc we don&rsquo;t have to worry about % that could potentially get strange on different resolutions.</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nc>.modal</span> <span class=p>{</span>
  <span class=k>max-height</span><span class=o>:</span> <span class=n>calc</span><span class=p>(</span><span class=m>100%</span> <span class=o>-</span> <span class=m>100px</span><span class=p>);</span>
  <span class=k>position</span><span class=o>:</span> <span class=k>fixed</span><span class=p>;</span>
    <span class=k>top</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
    <span class=k>left</span><span class=o>:</span> <span class=m>50%</span><span class=p>;</span>
  <span class=n>transform</span><span class=o>:</span> <span class=n>translate</span><span class=p>(</span><span class=m>-50%</span><span class=o>,</span> <span class=m>-50%</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>Check.</p><p>Finally&hellip; well our solution is pure CSS soooo &hellip; check.</p><p><a href=/img/post-assets/2014-02-22/lil-content.png title="Small Modal" class=colorbox><img src=/img/post-assets/2014-02-22/lil-content.png></a></p><p><a href=/img/post-assets/2014-02-22/lotta-content.png title="Large Modal" class=colorbox><img src=/img/post-assets/2014-02-22/lotta-content.png></a></p><p>Check it out over on <a href=http://codepen.io/lynnwallenstein/pen/ihqlF>codepen.io</a>. Try resizing your browser to see how it scales. There is some other CSS in there to deal with content for scrolling which may be helpful as well.</p><footer class=post-footer><dl><dt>Tagged</dt><dd><ul class=tag-list><li><a href=/tag/css><span class="ss-icon ss-air">tag</span> css</a></li><li><a href=/tag/modal><span class="ss-icon ss-air">tag</span> modal</a></li></ul></dd><dt>Date Posted</dt><dd><time datetime=2014-02-22T13:13:43-08:00><span class="ss-icon ss-air">calendar</span> 22 Feb 2014</time></dd><dt>Trackback URL</dt><dd class=trackback-url><span class="ss-icon ss-air">bookmark</span><a href="http://lynn.io/2014/02/22/modalin/">http://lynn.io/2014/02/22/modalin/</a></dd></dl></footer></article><aside class=related-posts><h2>Related Posts</h2><ul><li><a href="/2013/12/22/nested-layouts-with-less-divs/">Nested Layouts with Less Divs <small>22 Dec 2013</small></a></li><li><a href="/2014/01/19/colors-matter/">Keeping Your SCSS Vars and Adobe Palletes in Sync with Tinge <small>19 Jan 2014</small></a></li><li><a href="/2013/12/13/year-in-review/">Looking Back on 2013 <small>13 Dec 2013</small></a></li></ul></aside></main><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js></script><script>window.jQuery || document.write('<script src="/bower_components/jquery/dist/jquery.min.js"><\/script>')</script><script src=/js/script.374d8316.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-29731571-4', 'lynn.io');
  ga('send', 'pageview');</script></body></html>